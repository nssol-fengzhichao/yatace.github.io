webpackJsonp([1],{BECW:function(t,e){},G5C9:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAEYElEQVRoQ+1Z7XHcNhDdJQuwXUGcCkSDBcSpwFIFsSuwXEHkCuxUYKkCOxVILgAQXYHlCnwqANzMw4AaHA4kAZJzGWWCn3f42Lf79pNMj3zxI5ef/vsAmqZ5Wtf1SyJ6TUS/EFETWO1GRO76vr/quu5mzJpN0zwnopOqqtzZvu+/Tu0vYUWRBdq2PfVAXiUeubHWnnVdt8N/ELqqqrdEdMrMAIB1Za296LrurkTIqb1FAIaLmqZpqqr6yMy/RZd31to3EJyZYbFhbS74cPEiAMNhpdQ5M18Q0ZMRLd1ba0+3okvqjVUAPFVgjUtmPokfsNb+TkR3zAzfcUtEfhyVQt6JwflTEWkCPg8C7ZgZnA6de5C3S/0Oxyeiy77v/xp8ZqlPTFpAKfUnEYEmT5c+MHVORHZ938PxRyPY3LtJAIggdV1/HtFqeOf9BP9Bl69E1EEBIuIiUcLx8fOZ1vrLnLBZPuAjzHWk9XsRAR2gKXB6JyKvokhzcD+owszvYuH8Gy63wHe8JX5dQqc9C4DvVVXdEtEPrznE9i50OuQCEflUQisReWOMuUxp0OcLhNydMeZjqRViAM+nIoRSChr7NPYIIgwzn4sI/GYvRyAireH62JvZYdRnYfjFw/IcPxmsEWra54gPwfZOa/2iVMNz+7MAeGp9D2gDn7jw4dOBgvaNMUPJ4N71FgMtXKKz1r4AH+eEKvk/C4BSCmUD6hoI+q3v+9cQpG3bayKCM+L3dykOw2HruoZfje4pETjeOwsg0j5qmnNECx9qvw8XWmsRRZJF2uA7IvLeGIPSY7OVA+BlXdfXsYZjqxhjUpn4QVCllBP86AD8w3dxGFRKwScc53M127btpdY6rFJXWyLHAgehtWkaZ5WAPlkhErTbspDD+7MAUioK6YP/tdaL7lmt/hUAQvochM8tBMu9o1hzcfRBMjPGuFD6b6xiAHE58RgBIAOjT3BrCQBYcejSbm9vUXIvXksscBMVan9rrTGtmF0+KX6IyvAvWuuz2cMjG1YDyLXASJ/hxFoTxZYA+Bn1ArNVpu+rkTeS2fqoANq2ldia1tpnU90UsnnoN/H5owJQSu2NSbwjT3Vc6PLCUnxP/lwKjvnIEgrFToy7r8ZqnFQjFAkzejbHsTcBgKbcGPMs9eAcfcJCEI7OzK75yQ2vmwDAg2M9by6AsPHxtMTUGx2cGxZvSaGkQ46V1IneOPYBJygiVFjhehDJLi+8oNgCE5xOJjQfQtGpjQ2AIQ/65PdEFA8NZju4YgBxMTdoY5h3EhHKhL3m3s9Ui8eTOY1SMQAIjM6KiP7IiRJr9uSE2CIAvhNzX13WCJZ7djMAXnBUoEet+6dGkoMSJi3gHRCjxKNoPGUZDNCmviOMAoDWq6r6XDLEzaXGgn3u21tqqpcEMDfEXSDA6iPI9kSEvLA35T4AkFG7rBZmzQXxBPAAgKfOpuO/NQLvZV3mnR9tPowwi8LoVoJsec//ALbU5pK7/gEEPXZPYMftCQAAAABJRU5ErkJggg=="},HWEK:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACIElEQVRoQ+1ai03DMBB9nQBGgAkoEwAbsAEwQdkAmACYAJgANoBOAGwAG8AG6FU2ujhOev6lRthSVCl5Od+7u9qxn2fotxMApwAOPc82desFwC2AJ9eBmXPjBsBiU14q+j0DcC9xkgAj/iwePhjGXwrDpSA7phJYFWz0Zdf8rm5IAjL6PaalPFTavQRwYbAd3yQB1tkBgHcAc6XhKWGM/haAKwAk1MuAJcA/y/mUnin7sv6tJdABCOPMCiOgbd8A3rRgBS6ZgDWg6GsFWWYeihsBltC2NvxmqKuqhAJ8LwJNLqEiXgUYbQQCglUE2jJQJKwBRpMzEDqRBfjWgQ59CTQCoRNZbAY+APByW3IGYh3K9V4jkCuSsXZaBmIjl+u9lgHuWuzlCueIHW7ndPZ+DDY5A39+JuZ2IzeaSjcGilebyEpHOtR+8n8gtMPc+EYgd0RD7VWVAX6aXysZHOWaB5T9qWCuFjH2kt1BryoDkgCXkGPNbqVXS8CVuYbINAKq4laCZAn9iwxwxLKqUbRCowyuCqbNAD8eH4VmR/3uWO5a+ES+oY0llWdKkIYAHb0TmgTXCcxCR/b1EZhC5FtHQJYMYzIo+/oIUFXZV0YyFsbS4PqC7VcyNesNWTIUCkl2UOmpSeh2S4b1TudHTwpIAvw+eRUh5bqUhyumOGpA56U2rS7j2g57sGRIxLeo95arbxJhbfLisYMp26cZIoOUzR8wXOIx448JjwAAAABJRU5ErkJggg=="},JSzX:function(t,e){},NHnr:function(t,e,n){"use strict";function s(t){n("rW+b")}function a(t){n("JSzX")}function o(t){n("bdcv"),n("mcXU")}function i(t){n("BECW")}function r(t){n("OoX6")}function c(t){n("t/7A")}Object.defineProperty(e,"__esModule",{value:!0});var l=n("7+uW"),u={name:"app"},m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},d=[],p={render:m,staticRenderFns:d},v=p,f=n("VU/8"),h=s,A=f(u,v,!1,h,null,null),g=A.exports,_=n("/ocq"),b={name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[n("h1",[t._v(t._s(t.msg))]),t._v(" "),n("h2",[t._v("Essential Links")]),t._v(" "),t._m(0),t._v(" "),n("h2",[t._v("Ecosystem")]),t._v(" "),t._m(1)])},C=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[n("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("Core Docs")])]),t._v(" "),n("li",[n("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("Forum")])]),t._v(" "),n("li",[n("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[t._v("Community Chat")])]),t._v(" "),n("li",[n("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("Twitter")])]),t._v(" "),n("br"),t._v(" "),n("li",[n("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[t._v("Docs for This Template")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[n("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[t._v("vue-router")])]),t._v(" "),n("li",[n("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[t._v("vuex")])]),t._v(" "),n("li",[n("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[t._v("vue-loader")])]),t._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[t._v("awesome-vue")])])])}],E={render:w,staticRenderFns:C},x=E,k=n("VU/8"),j=a,I=k(b,x,!1,j,"data-v-4241e014",null),U=I.exports,B=n("//Fk"),S=n.n(B),M=n("mtWM"),P=n.n(M),R=P.a.create({timeout:5e3});R.interceptors.request.use(function(t){return t},function(t){S.a.reject(t)}),R.interceptors.response.use(function(t){return t},function(t){return S.a.reject(t)});var q=R,y={name:"Login",data:function(){return{msg:"",msgStatus:!1,obj:{phone:"",password:""},states:{phone:"",password:""}}},methods:{phonewatch:function(t){""!==t.trim()?this.states.phone="success":this.states.phone="error"},passwordwatch:function(t){""!==t.trim()?this.states.password="success":this.states.password="error"},login:function(){var t=this;this.validate().then(function(){t.$router.push("/index")}).catch(function(e){t.msg=e,t.msgStatus=!0,setTimeout(function(){t.msgStatus=!1},1e3)})},validate:function(){var t=this;return new S.a(function(e,n){for(var s in t.states)"success"!==t.states[s]&&n(s+" must not be empty");e()})}}},L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[n("mt-header",{attrs:{fixed:"",title:"登录"}}),t._v(" "),n("mt-popup",{staticClass:"pop-up",attrs:{position:"top",modal:!1},model:{value:t.msgStatus,callback:function(e){t.msgStatus=e},expression:"msgStatus"}},[t._v(t._s(t.msg))]),t._v(" "),n("mt-field",{ref:"phone",attrs:{label:"手机号",state:t.states.phone,placeholder:"请输入手机号",type:"tel"},on:{input:t.phonewatch},model:{value:t.obj.phone,callback:function(e){t.$set(t.obj,"phone",e)},expression:"obj.phone"}}),t._v(" "),n("mt-field",{ref:"password",attrs:{label:"密码",state:t.states.password,placeholder:"请输入密码",type:"password"},on:{input:t.passwordwatch},model:{value:t.obj.password,callback:function(e){t.$set(t.obj,"password",e)},expression:"obj.password"}}),t._v(" "),n("mt-button",{attrs:{size:"large",type:"primary"},on:{click:t.login}},[t._v("Login")]),t._v(" "),n("mt-button",{staticStyle:{"margin-top":"20px"},attrs:{size:"large",type:"danger"}},[t._v("Forgot Password?")])],1)},N=[],X={render:L,staticRenderFns:N},J=X,W=n("VU/8"),H=o,O=W(y,J,!1,H,"data-v-aef74c52",null),V=O.exports,Y="http://localhost:3000/acfun/articles?pageNo={pageNo}",Z={data:function(){return{list:[],loading:!1,selected:"1",title:"文章区",active:"tab-container1",pageNo:0,lastContentId:0}},methods:{getDateDiff:function(t){var e=(new Date).getTime(),n=e-t;if(!(n<0)){var s=n/2592e6,a=n/6048e5,o=n/864e5,i=n/36e5,r=n/6e4;return s>=1?parseInt(s)+"月前":a>=1?parseInt(a)+"周前":o>=1?parseInt(o)+"天前":i>=1?parseInt(i)+"小时前":r>=1?parseInt(r)+"分钟前":"刚刚"}},getList:function(){var t=this;if("2"!=this.selected){this.pageNo++;var e=Y.replace("{pageNo}",this.pageNo);this.loading=!0,q.get(e).then(function(e){var n=e.data.data?e.data.data.list:[];t.loading=!1,t.lastContentId=n[n.length-1].contentId,console.log("last content id ",t.lastContentId),n.forEach(function(e){t.list.push(e)})}).catch(function(t){console.log(t)})}},toArticle:function(t){this.$router.push("/article/"+t)}},watch:{selected:function(t){this.active="tab-container"+t,this.title="2"==t?"A岛":"文章区"}},created:function(){this.getList()}},F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"index"},[s("mt-header",{attrs:{fixed:"",title:t.title}}),t._v(" "),s("mt-tab-container",{model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[s("mt-tab-container-item",{attrs:{id:"tab-container1"}},[s("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.getList,expression:"getList"}],attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"10"}},t._l(t.list,function(e){return s("li",{key:e.contentId},[s("a",{staticClass:"title-box",on:{click:function(n){t.toArticle(e.contentId)}}},[s("span",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),s("span",{staticClass:"date"},[t._v(t._s(t.getDateDiff(e.releaseDate)))])]),t._v(" "),s("div",{staticClass:"desc",domProps:{innerHTML:t._s(e.description)}}),t._v(" "),s("div",{staticClass:"info"},[s("span",{staticClass:"info-item comments",attrs:{title:"Views"}},[t._v("Views:"+t._s(e.views))]),t._v(" "),s("span",{staticClass:"info-item comments",attrs:{title:"Comments"}},[t._v("Comments:"+t._s(e.comments))]),t._v(" "),s("span",{staticClass:"info-item author",attrs:{title:"Author"}},[t._v("Author:"+t._s(e.user.username))])])])}))]),t._v(" "),s("mt-tab-container-item",{attrs:{id:"tab-container2"}},[t._v("\n      A岛已经凉了\n    ")])],1),t._v(" "),s("mt-tabbar",{attrs:{fixed:""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[s("mt-tab-item",{attrs:{id:"1"}},[s("img",{attrs:{slot:"icon",src:n("HWEK")},slot:"icon"}),t._v("\n      文章区\n    ")]),t._v(" "),s("mt-tab-item",{attrs:{id:"2"}},[s("img",{attrs:{slot:"icon",src:n("G5C9")},slot:"icon"}),t._v("\n      A岛\n    ")])],1)],1)},D=[],T={render:F,staticRenderFns:D},Q=T,G=n("VU/8"),z=i,K=G(Z,Q,!1,z,"data-v-4cff1b22",null),$=K.exports,tt={name:"comment",props:["comment","list"],computed:{quote:function(){return this.list["c"+this.comment.quoteId]}}},et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment"},[t.comment.quoteId>0?n("comment",{attrs:{comment:t.quote,list:t.list}}):t._e(),t._v(" "),n("div",{staticClass:"comment-text",domProps:{innerHTML:t._s(t.comment.content)}}),t._v(" "),n("span",{staticClass:"username"},[t._v("#"+t._s(t.comment.count)+" "+t._s(t.comment.userName)+" ")])],1)},nt=[],st={render:et,staticRenderFns:nt},at=st,ot=n("VU/8"),it=r,rt=ot(tt,at,!1,it,null,null),ct=rt.exports,lt={components:{comment:ct},data:function(){return{article:{article:{}},comments:[],commentList:[]}},created:function(){this.getArticle(),this.getComments()},methods:{getArticle:function(){var t=this;console.log(this.$route.params.id),q.get("http://localhost:3000/acfun/articles/"+this.$route.params.id).then(function(e){t.article=e.data.data,t.$nextTick(function(){var t=document.querySelectorAll(".content img"),e=window.innerWidth;t.forEach(function(t){(e<t.width+10||0==t.width)&&(t.style.width="90%")})})}).catch(function(t){console.log(t)})},getComments:function(){var t=this;q.get("http://localhost:3000/acfun/articles/"+this.$route.params.id+"/comments").then(function(e){if("string"==typeof e.data){var n=JSON.parse(e.data.replace("system.tv=",""));t.comments=n.data.commentContentArr;for(var s in t.comments){var a=t.comments[s];a.content=a.content.replace(/\[emot\=(\S+?)\,(\S+?)\/\]/g,'<img class="emotion" src="http://cdn.aixifan.com/acfun-H5/public/images/expression/$1/$2.gif">').replace(/\[img\](\S+?)\[\/img\]/g,'<a class="thumb" href="$1" target="_blank" title="点击以浏览图像"><img class="preview" src="$1"></a>').replace(/\[img\=(\S+?)\](\S+?)\[\/img\]/g,'<a class="thumb" href="$2" target="_blank" title="$1"><img class="preview" src="$2"></a>')}t.commentList=n.data.commentList}else t.comments=e.data.data.commentContentArr}).catch(function(t){console.log(t)})},formatComment:function(t){new RegExp("/^[emot*]$/");return t}}},ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"article"},[n("mt-header",{attrs:{fixed:"",title:"文章"}},[n("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:function(e){t.$router.back()}},slot:"left"},[t._v("返回")])],1),t._v(" "),n("p",{staticClass:"title"},[t._v(t._s(t.article.title))]),t._v(" "),n("div",{staticClass:"content",domProps:{innerHTML:t._s(t.article.article.content)}}),t._v(" "),n("div",{staticClass:"comments"},t._l(t.commentList,function(e){return n("div",{key:e,staticClass:"comment-row"},[n("comment",{attrs:{comment:t.comments["c"+e],list:t.comments}})],1)}))],1)},mt=[],dt={render:ut,staticRenderFns:mt},pt=dt,vt=n("VU/8"),ft=c,ht=vt(lt,pt,!1,ft,"data-v-2a2ec160",null),At=ht.exports;l.default.use(_.a);var gt=new _.a({routes:[{path:"/",name:"HelloWorld",component:U},{path:"/login",name:"Login",component:V},{path:"/index",name:"Index",component:$},{path:"/article/:id",name:"Article",component:At}]}),_t=n("Au9i"),bt=n.n(_t);l.default.use(bt.a),l.default.config.productionTip=!1,new l.default({el:"#app",router:gt,template:"<App/>",components:{App:g}})},OoX6:function(t,e){},bdcv:function(t,e){},mcXU:function(t,e){},"rW+b":function(t,e){},"t/7A":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.1ed8cc58d310010c5771.js.map